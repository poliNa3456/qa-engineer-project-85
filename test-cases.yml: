- Открыть лидерборд (при необходимости)
  expected-result: |
    Рейтинг игрока A увеличился, рейтинг B уменьшился; изменения соответствуют ожидаемому пересчёту

- summary: |
    Просмотр реплея матча (replay) и покадровое воспроизведение
  requirement: |
    Система должна сохранять историю ходов/изменений кода и позволять воспроизвести матч покадрово
  prerequisites: |
    Завершённый матч с сохранённым реплеем
  test-data: |
    Любой завершённый матч
  steps:
    - Открыть страницу истории матчей
    - Найти нужный матч и нажать "Просмотр реплея"
    - Нажимать "Воспроизвести", "Пауза", "Вперёд/Назад кадр"
  expected-result: |
    Реплей воспроизводится, показываются изменения кода по шагам; управление кадрами работает корректно

- summary: |
    Адаптивность интерфейса на мобильных устройствах (responsive)
  requirement: |
    Интерфейс должен корректно отображаться и быть удобным для взаимодействия на экранах мобильных размеров
  prerequisites: |
    Доступ к странице сайта с мобильного устройства или через эмуляцию мобильного разрешения
  test-data: |
    Разрешения: 360x640, 375x812
  steps:
    - Открыть главную страницу, страницу матча и редактор в мобильном разрешении
    - Оценить видимость элементов, доступность кнопок и функционала (ввод кода через экранную клавиатуру)
  expected-result: |
    Элементы интерфейса корректно расположены, кнопки доступны, редактирование кода возможно, чат читаем и управляющие элементы не перекрывают содержимое

- summary: |
    Защита от XSS в чате и в поле профиля
  requirement: |
    Система должна экранировать/очищать пользовательский ввод, предотвращая выполнение произвольного HTML/JS
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Текст для отправки: <script>alert('XSS')</script>
  steps:
    - Отправить в чат сообщение с текстом "<script>alert('XSS')</script>"
    - Открыть профиль пользователя, если поле профиля поддерживает ввод HTML, разместить тот же текст
  expected-result: |
    Веб-браузер не выполняет скрипт; сообщение выводится как текст (&lt;script&gt;...&lt;/script&gt;) или удаляется по правилам фильтрации

- summary: |
    Нагрузочный тест: выдерживает 1000 одновременных подключений (smoke)
  requirement: |
    Система должна корректно поддерживать минимум 1000 одновременных активных пользователей (открытые сессии/соединения вебсокетов) без существенной деградации (>90% успешных ответов)
  prerequisites: |
    Тестовая среда/инструмент нагрузки (например, JMeter, k6) настроен
  test-data: |
    Сценарий: 1000 виртуальных пользователей, каждый открывает главную, подключается к WS, выполняет 5 запросов API/действий в минуту
  steps:
    - Запустить нагрузочный сценарий
    - Наблюдать метрики сервера (CPU, память, latency, ошибки)
  expected-result: |
    Система отвечает в пределах SLA (например, 95-й перцентиль latency < 500ms), количество ошибок < 5%, сервер не падает
